<!--Create Legend-->
<!DOCTYPE html>
<html>
	<!--References-->
	<!--http://leafletjs.com/examples/geojson.html-->
	<!--http://geojson.io/#map=2/20.0/0.0-->
<head>
  <meta charset=utf-8 />
  <title>Resume</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  
  <!--JQUERY-->
  <script src=src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
  
  <!-- D3 Resources -->
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="http://d3js.org/queue.v1.min.js"></script>
  
  <!-- Load Esri Leaflet from CDN -->
  <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
  
  <script src="/Road-to-GIS-Professionalism/javascripts/Resume/Education.js" type="text/javascript"></script>
  <script src="/Road-to-GIS-Professionalism/javascripts/Resume/Employment.js" type="text/javascript"></script>
  <script src="/Road-to-GIS-Professionalism/javascripts/Resume/Intership.js" type="text/javascript"></script>
  
  
  
  
 <style>
        html, body, #map {
  		width: 100%;
  		height: 100%;
  	}
        .legend {
            line-height: 18px;
            color: #555;
         }
         
         .legend .circle {
            border-radius: 50%;
            width: 10px;
            height: 10px;
            margin-top: 8px;
         }
         
        .legend i {
            width: 18px;
            height: 18px;
            float: left;
            margin-right: 8px;
            opacity: 0.7;
        }

  	.info {
  		padding: 8px 8px;
  		background: white;
  		background: rgba(255, 255, 255, 1);
  		box-shadow: 0 0 15px rgba(0,0,0,0.2);
  		border-radius: 5px;
  	}
  	.info h4 {
  		margin: 0 0 5px;
  		color: #777;
  	}
</style>


</head>
<body>
	
<div id="map" </div>
   
    <script>
        var startPoint = [34.075376, -84.29409];
        var map = L.map('map').setView(startPoint, 8),
        tilelayer = L.tileLayer('http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {maxZoom: 20, attribution: 'Data \u00a9 <a href="http://www.openstreetmap.org/copyright"> OpenStreetMap Contributors </a> Tiles \u00a9 HOT'}).addTo(map);

    	function onEachFeature(feature, layer) {
			var Education = '<div class=+ ><b>' + feature.properties.Title + '</b><br/>' +
                        '<p>' + feature.properties.Legend + '</p>' + '<p>' + feature.properties.Organization + '</p>' +'<p>' + feature.properties.Position + '</p>' +'<p>' + feature.properties.Duties + '</p>' +'<p>' + feature.properties.Dates + '<p/>' + '<p><em style="font-size: 0.8em"><a href="https://www.linkedin.com/pub/james-e-fitzgerald-gisp/31/ba5/ab9/">LinkedIn</a></em></p>' +
                        '<p><em style="font-size: 0.8em"><a href="http://www.cobbassessor.org/cobbga_dnn/Tax-Assessor/">Tax Assessors Website</a></em></p></div>';
			
			
			layer.bindPopup(Education);
  
		 }
		  
		L.geoJson([Education], {

			style: function (feature) {
				return feature.properties && feature.properties.style;
			},

			onEachFeature: onEachFeature,

			pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 10,
					fillColor: "#f03b20",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8
				});
			}
		}).addTo(map);
	
	function onEachFeature(feature, layer) {
			var Employment = '<div class=+ ><b>' + feature.properties.Title + '</b><br/>' +
                        '<p>' + feature.properties.Legend + '</p>' + '<p>' + feature.properties.Organization + '</p>' +'<p>' + feature.properties.Position + '</p>' +'<p>' + feature.properties.Duties + '</p>' +'<p>' + feature.properties.Dates + '<p/>' + '<p><em style="font-size: 0.8em"><a href="https://www.linkedin.com/pub/james-e-fitzgerald-gisp/31/ba5/ab9/">LinkedIn</a></em></p>' +
                        '<p><em style="font-size: 0.8em"><a href="http://www.cobbassessor.org/cobbga_dnn/Tax-Assessor/">Tax Assessors Website</a></em></p></div>';
			
			layer.bindPopup(Employment);
		  }
		  
		L.geoJson([Employment], {

			style: function (feature) {
				return feature.properties && feature.properties.style;
			},

			onEachFeature: onEachFeature,

			pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 8,
					fillColor: "#ff7800",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8
				});
			}
		}).addTo(map);
		
	function onEachFeature(feature, layer) {
			var Internship = '<div class=+ ><b>' + feature.properties.Title + '</b><br/>' +
                        '<p>' + feature.properties.Legend + '</p>' + '<p>' + feature.properties.Organization + '</p>' +'<p>' + feature.properties.Position + '</p>' +'<p>' + feature.properties.Duties + '</p>' +'<p>' + feature.properties.Dates + '<p/>' + '<p><em style="font-size: 0.8em"><a href="https://www.linkedin.com/pub/james-e-fitzgerald-gisp/31/ba5/ab9/">LinkedIn</a></em></p>' +
                        '<p><em style="font-size: 0.8em"><a href="http://www.cobbassessor.org/cobbga_dnn/Tax-Assessor/">Tax Assessors Website</a></em></p></div>';
			
			layer.bindPopup(Internship);
		  }
		  
		L.geoJson([Internship], {

			style: function (feature) {
				return feature.properties && feature.properties.style;
			},

			onEachFeature: onEachFeature,

			pointToLayer: function (feature, latlng) {
				return L.circleMarker(latlng, {
					radius: 8,
					fillColor: "#000000",
					color: "#000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8
				});
			}
		}).addTo(map);
		
	
	
		
            // Define the layer controls:
            // This means, that the  layers density2010, density2000 and density1990 can be chosen to
            // be displayed.
        //var control = L.control.layers(
                    //{
                        // "Education" : Education
                       // ,"Employment" : Employment
                    //}, null , {collapsed:true});

            // Add the map controls to the map
                 //  control.addTo(map);
         
        //--WORKS--//           
        //function getColor(p) {
        //	return p >= 26 ? '#253494' :
        //		 p >=21 && p <=25.9 ? '#2c7fb8' :
        //		 p >=16.9 && p <= 20.9  ? '#41b6c4' :
        //		 p >=12.6 && p<=16.8 ? '#a1dab4' :
        //					 '#ffffcc';
	//	}
	
	function getColor(p) {
        	return p === 'Employment' ? '#ff7800' :
        	       p === 'Internship' ? '#000000':
        	       p === 'College Degree' ? '#f03b20' :
        	                           '#f03b20';
        	                              
        		 
		}
        //function style(feature) {
            //return {
              // weight: 1.5,
              // opacity: 1,
              // fillOpacity: 1,
               //radius: 6,
              // fillColor: getColor(feature.properties.Legend),
              // color: "grey"

        //};
	
       var legend = L.control({position: 'bottomright'});
       legend.onAdd = function (map) {
       	   
       	   var div = L.DomUtil.create('div', 'info legend'),
       	       labels =  ['<strong>Legend</strong>'],
               location = ['Employment', 'Internship', 'College Degree'];
   
    		for (var i = 0; i < location.length; i++) {
        		div.innerHTML +=
        		labels.push(
            		      '<i class="circle" style="background:' + getColor(location[i]) + '"></i> ' +
        		       (location[i] ? location[i]  : '+'));
                      }
                      div.innerHTML = labels.join('<br>');
       //--Works--)
       //var legend = L.control({position: 'bottomright'});

       //legend.onAdd = function (map) {
       //  	var div = L.DomUtil.create('div', 'info legend'),
       // 	lower = [2,12.6,16.9,21,26],
   	//      upper = [12.5,16.8,20.9,25.9,"plus"],
       // 	labels = [];
   
    	//	for (var i = 0; i < lower.length; i++) {
        //		div.innerHTML +=
         //   		'<i style="background:' + getColor(lower[i] + 1) + '"></i> ' +
        //		 lower[i] + '&ndash;' + upper[i]+'<br>';
         //             }

         return div;
         };
         
         legend.addTo(map);

        
        
    </script>
</body>
</html>
